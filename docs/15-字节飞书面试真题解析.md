# 15-å­—èŠ‚é£žä¹¦é¢è¯•çœŸé¢˜è§£æž (Go è¯­è¨€ç‰ˆ)

> ðŸ’¡ **èƒŒæ™¯**ï¼šè¿™æ˜¯ä¸€ä»½ 26 å±Šæ ¡æ‹›/å®žä¹ ï¼ˆå¤–åŒ…ï¼‰çš„çœŸå®žé¢ç»ï¼ŒåŒ…å«ä¸€äºŒé¢çœŸé¢˜ã€‚è™½ç„¶åŽŸé¢˜åŒ…å« Java é—®é¢˜ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†å…¶è½¬åŒ–ä¸º Go è¯­è¨€è§†è§’çš„å›žç­”ã€‚

---

## ðŸŸ¢ ä¸€é¢ (åŸºç¡€å¤¯å®ž)

### 1. è®¡ç®—æœºç½‘ç»œ

#### Q1: ä¸ƒå±‚/å››å±‚ç½‘ç»œæ¨¡åž‹

- **OSI ä¸ƒå±‚**ï¼šç‰©ç†å±‚ã€æ•°æ®é“¾è·¯å±‚ã€ç½‘ç»œå±‚ (IP)ã€ä¼ è¾“å±‚ (TCP/UDP)ã€ä¼šè¯å±‚ã€è¡¨ç¤ºå±‚ã€åº”ç”¨å±‚ (HTTP)ã€‚
- **TCP/IP å››å±‚**ï¼šç½‘ç»œæŽ¥å£å±‚ã€ç½‘ç»œå±‚ã€ä¼ è¾“å±‚ã€åº”ç”¨å±‚ã€‚
- **é¢è¯•è¯æœ¯**ï¼š"OSI æ˜¯ç†è®ºæ¨¡åž‹ï¼ŒTCP/IP æ˜¯å®žé™…æ ‡å‡†ã€‚å¹³å¸¸æˆ‘ä»¬ä¸»è¦å…³æ³¨ä¼ è¾“å±‚(TCP)å’Œåº”ç”¨å±‚(HTTP)ã€‚"

#### Q2: TCP çš„å¯é æ€§æ€Žä¹ˆä¿è¯ï¼Ÿ

- **å…³é”®è¯**ï¼šæ ¡éªŒå’Œã€åºåˆ—å·/ç¡®è®¤åº”ç­”(ACK)ã€è¶…æ—¶é‡ä¼ ã€æµé‡æŽ§åˆ¶(æ»‘åŠ¨çª—å£)ã€æ‹¥å¡žæŽ§åˆ¶(æ…¢å¯åŠ¨/å¿«é‡ä¼ )ã€‚
- **ä¸€å¥è¯**ï¼š"é€šè¿‡ç»™åŒ…ç¼–å·ã€ä¸¢åŒ…é‡ä¼ ã€ä»¥åŠæŽ§åˆ¶å‘é€é€Ÿåº¦ä¸æŠŠå¯¹æ–¹å’Œç½‘ç»œå¡žæ»¡ï¼Œæ¥ä¿è¯å¯é æ€§ã€‚"

#### Q3: HTTP 1.1 vs 2.0 vs HTTPS

- **HTTP 1.1**ï¼šé•¿è¿žæŽ¥ (Keep-Alive)ï¼Œä½†æœ‰é˜Ÿå¤´é˜»å¡žã€‚
- **HTTP 2.0**ï¼š**å¤šè·¯å¤ç”¨** (ä¸€ä¸ªè¿žæŽ¥å¹¶å‘å¤„ç†å¤šä¸ªè¯·æ±‚)ï¼Œå¤´éƒ¨åŽ‹ç¼© (HPACK)ï¼ŒæœåŠ¡ç«¯æŽ¨é€ã€‚
- **HTTPS**ï¼šHTTP + SSL/TLS åŠ å¯†ï¼ˆæ¡æ‰‹è€—æ—¶ä½†å®‰å…¨ï¼‰ã€‚

### 2. æ“ä½œç³»ç»Ÿ (OS)

#### Q1: çº¿ç¨‹çŠ¶æ€æµè½¬

- æ–°å»º (New) â†’ å°±ç»ª (Runnable) â†” è¿è¡Œ (Running) â†’ é˜»å¡ž (Blocked) / ç­‰å¾… (Waiting) â†’ ç»ˆæ­¢ (Terminated)ã€‚
- **Go è§†è§’**ï¼šGo åªæœ‰ GMP çŠ¶æ€ï¼ˆRunning, Runnable, Waiting, Syndcall ç­‰ï¼‰ï¼Œæ²¡æœ‰"æ–°å»º"ï¼Œgoroutine ä¸€åˆ›å»ºå°±æ˜¯ Runnableã€‚

#### Q2: è¿›ç¨‹/çº¿ç¨‹é€šä¿¡æ–¹å¼ (IPC)

- **ç®¡é“ (Pipe)**ï¼šå•å‘ï¼Œçˆ¶å­è¿›ç¨‹ç”¨ã€‚
- **æ¶ˆæ¯é˜Ÿåˆ—**ï¼šæœ‰æ ¼å¼çš„æ•°æ®å—ã€‚
- **å…±äº«å†…å­˜**ï¼šæœ€å¿«ï¼Œéœ€è¦åŠ é”ã€‚
- **ä¿¡å·é‡ (Semaphore)**ï¼šæŽ§åˆ¶è®¿é—®æ•°é‡ã€‚
- **Socket**ï¼šä¸åŒæœºå™¨é€šä¿¡ï¼ˆK8s/å¾®æœåŠ¡å¸¸ç”¨ï¼‰ã€‚

### 3. MySQL æ•°æ®åº“

#### Q1: ç´¢å¼•ä¸‹æŽ¨ (ICP)

- **æ˜¯ä»€ä¹ˆ**ï¼šMySQL 5.6 åŽï¼ŒæŠŠéƒ¨åˆ†è¿‡æ»¤é€»è¾‘"ä¸‹æŽ¨"ç»™å­˜å‚¨å¼•æ“Žï¼Œå‡å°‘å›žè¡¨æ¬¡æ•°ã€‚
- **ä¾‹å­**ï¼š`Select * from user where name like 'å¼ %' and age = 10`ã€‚
  - **æ—  ICP**ï¼šå¼•æ“ŽæŸ¥å‡ºæ‰€æœ‰å§“å¼ çš„ ID â†’ å›žè¡¨æŸ¥æ‰€æœ‰å­—æ®µ â†’ Server å±‚è¿‡æ»¤ age=10ã€‚
  - **æœ‰ ICP**ï¼šå¼•æ“ŽæŸ¥å§“å¼ çš„åŒæ—¶ï¼Œé¡ºä¾¿è¿‡æ»¤ age=10 â†’ åªæœ‰ç¬¦åˆçš„æ‰å›žè¡¨ã€‚

#### Q2: B+ æ ‘ vs B æ ‘

- **B+ æ ‘ (MySQL)**ï¼šæ•°æ®å…¨åœ¨å¶å­èŠ‚ç‚¹ï¼Œå¶å­ä¹‹é—´æœ‰æŒ‡é’ˆä¸²èµ·æ¥ï¼ˆé€‚åˆèŒƒå›´æŸ¥è¯¢ï¼Œå¦‚ `id > 100`ï¼‰ã€‚
- **B æ ‘**ï¼šæ•°æ®åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šï¼ŒèŒƒå›´æŸ¥è¯¢è¦ä¸­åºéåŽ†ï¼Œä¸ä»…æ…¢è¿˜å¯¹ CPU ç¼“å­˜ä¸å‹å¥½ã€‚

### 4. è¯­è¨€ç‰¹æ€§ (Java -> Go è¿ç§»)

#### Q1: ThreadLocal (Java) åœ¨ Go é‡Œå¯¹åº”ä»€ä¹ˆï¼Ÿ

- **Java ThreadLocal**ï¼šæ¯ä¸ªçº¿ç¨‹ç‹¬ç«‹çš„å­˜å‚¨ç©ºé—´ã€‚
- **Go è§‚ç‚¹**ï¼š**Go å®˜æ–¹ä¸æŽ¨è Goroutine Local Storage (GLS)**ã€‚
- **Go æ›¿ä»£æ–¹æ¡ˆ**ï¼š
    1. **Context**ï¼šæ˜¾å¼ä¼ é€’å‚æ•°ï¼ˆæŽ¨èï¼Œæ¸…æ™°æ˜Žäº†ï¼‰ã€‚
    2. **ç¬¬ä¸‰æ–¹åº“ (gls)**ï¼šé»‘ç§‘æŠ€èŽ·å– GIDï¼Œå®¹æ˜“é€ æˆå†…å­˜æ³„æ¼ï¼Œå°½é‡åˆ«ç”¨ã€‚

### 5. è®¾è®¡æ¨¡å¼

#### Q1: å•ä¾‹æ¨¡å¼ (Go å†™æ³•)

- **é¥¿æ±‰å¼**ï¼š`var instance = &Singleton{}` (init é˜¶æ®µåˆ›å»ºï¼Œå¤©ç„¶å®‰å…¨)ã€‚
- **æ‡’æ±‰å¼ (åŒé‡æ£€æŸ¥)**ï¼š`sync.Once` (Go é‡Œçš„æ»¡åˆ†ç­”æ¡ˆ)ã€‚

```go
var once sync.Once
var instance *Singleton

func GetInstance() *Singleton {
    once.Do(func() {
        instance = &Singleton{}
    })
    return instance
}
```

### 6. æ‰‹æ’•ä»£ç 

#### Q1: æœ€é•¿å›žæ–‡å­ä¸² (LeetCode 5)

- **æ€è·¯**ï¼šä¸­å¿ƒæ‰©æ•£æ³•ã€‚éåŽ†å­—ç¬¦ä¸²ï¼Œä»¥æ¯ä¸ªå­—ç¬¦ä¸ºä¸­å¿ƒå‘ä¸¤è¾¹æ‰©æ•£ã€‚
- **æ³¨æ„**ï¼šå¥‡æ•°é•¿åº¦ `aba` (ä¸­å¿ƒæ˜¯ b) å’Œå¶æ•°é•¿åº¦ `abba` (ä¸­å¿ƒæ˜¯ bb ç¼éš™) éƒ½è¦è€ƒè™‘ã€‚

---

## ðŸ”´ äºŒé¢ (æ·±åº¦ä¸Žå®žæˆ˜)

### 1. Redis

#### Q1: ZSet æŸ¥ member score çš„å¤æ‚åº¦ï¼Ÿ

- **O(1)**ã€‚
- **åŽŸç†**ï¼šZSet åº•å±‚åŒæ—¶ç”¨äº† **è·³è¡¨ (SkipList)** å’Œ **å“ˆå¸Œè¡¨ (Hash)**ã€‚
  - æŸ¥æŽ’å/èŒƒå›´ç”¨è·³è¡¨ (O(logN))ã€‚
  - æŸ¥å…·ä½“å…ƒç´  Score ç”¨å“ˆå¸Œè¡¨ (O(1))ã€‚

#### Q2: Redis å“ˆå¸Œè¡¨æ‰©å®¹ (Rehash)

- **æ¸è¿›å¼ Rehash**ï¼š
  - ä¸ä¼šä¸€æ¬¡æ€§æŠŠå‡ ç™¾ä¸‡æ•°æ®æ¬è¿‡åŽ»ï¼ˆä¼šå¡æ­»ä¸»çº¿ç¨‹ï¼‰ã€‚
  - è€Œæ˜¯**åˆ†æ‰¹æ¬è¿**ï¼šæ¯æ¬¡ç”¨æˆ·è®¿é—®ï¼ˆå¢žåˆ æ”¹æŸ¥ï¼‰æ—¶ï¼Œé¡ºä¾¿æ¬ä¸€ç‚¹ï¼›å¦‚æžœä¸è®¿é—®ï¼Œä¹Ÿæœ‰å®šæ—¶ä»»åŠ¡æ¬ä¸€ç‚¹ã€‚
  - æ¬è¿æœŸé—´ï¼Œæ–°æ•°æ®å†™æ–°è¡¨ï¼Œæ—§æ•°æ®æŸ¥æ—§è¡¨ï¼ˆæ‰¾ä¸åˆ°å†åŽ»æ–°è¡¨ï¼‰ã€‚

### 2. MySQL

#### Q1: è”åˆç´¢å¼•ä¸Ž"æœ€å·¦å‰ç¼€"

- ç´¢å¼• `(name, age)`ã€‚
- âœ… `where name='xx' and age=10` (èµ°ç´¢å¼•)
- âœ… `where name='xx'` (èµ°ç´¢å¼•)
- âŒ `where age=10` (ä¸èµ°ç´¢å¼•ï¼Œå› ä¸ºä¸çŸ¥é“ name)
- **å§“å vs æ€§åˆ«è°åœ¨å·¦ï¼Ÿ**
  - **åŒºåˆ†åº¦é«˜çš„åœ¨å·¦è¾¹**ï¼å§“åçš„åŒºåˆ†åº¦è¿œé«˜äºŽæ€§åˆ«ï¼Œæ‰€ä»¥ `(name, gender)` æ›´å¥½ã€‚

### 3. æ“ä½œç³»ç»Ÿ

#### Q1: ç®¡é“æ˜¯ä»€ä¹ˆè¿›ç¨‹éƒ½å¯ä»¥é€šä¿¡å—ï¼Ÿ

- **åŒ¿åç®¡é“ (`|`)**ï¼šåªèƒ½ç”¨äºŽ**çˆ¶å­è¿›ç¨‹**æˆ–å…„å¼Ÿè¿›ç¨‹ï¼ˆæœ‰è¡€ç¼˜å…³ç³»ï¼‰ã€‚
- **å‘½åç®¡é“ (FIFO)**ï¼šä»»ä½•è¿›ç¨‹éƒ½å¯ä»¥ã€‚

### 4. SQL æ‰‹æ’•

#### Q1: æŸ¥å‡ºåˆšå¥½é€‰ä¸¤é—¨è¯¾çš„å­¦ç”Ÿ ID

```sql
SELECT student_id
FROM course_selection
GROUP BY student_id
HAVING COUNT(course_id) = 2;
```

### 5. æ‰‹æ’•ä»£ç 

#### Q1: K ä¸ªä¸€ç»„ç¿»è½¬é“¾è¡¨ (LeetCode 25 - Hard)

- è¿™æ˜¯é¢è¯•é‡Œçš„"é¡¶çº§éš¾åº¦"é¢˜ä¹‹ä¸€ï¼Œè€ƒå¯Ÿé€»è¾‘ä¸¥å¯†æ€§ã€‚
- **Go æ€è·¯**ï¼š
    1. ç»Ÿè®¡é•¿åº¦ï¼Œç®—å‡ºèƒ½ç¿»è½¬å‡ ç»„ã€‚
    2. éåŽ†æ¯ç»„ï¼Œç”¨"å¤´æ’æ³•"æˆ–"å±€éƒ¨ç¿»è½¬"ã€‚
    3. è¿žæŽ¥æ¯ç»„çš„å¤´å°¾ã€‚

```go
func reverseKGroup(head *ListNode, k int) *ListNode {
    dummy := &ListNode{Next: head}
    pre := dummy
    
    // 1. è®¡ç®—é•¿åº¦
    length := 0
    for p := head; p != nil; p = p.Next {
        length++
    }
    
    // 2. ç¿»è½¬æ¯ç»„
    for length >= k {
        cur := pre.Next
        next := cur.Next
        for i := 0; i < k-1; i++ {
            cur.Next = next.Next
            next.Next = pre.Next
            pre.Next = next
            next = cur.Next
        }
        pre = cur
        length -= k
    }
    return dummy.Next
}
```

---

## ðŸ’¡ æ€»ç»“ä¸Žå»ºè®®

è¿™ä»½é¢ç»éžå¸¸å…¸åž‹ï¼Œæ¶µç›–äº†**äº’è”ç½‘å¤§åŽ‚åŸºç¡€å²—**çš„æ ¸å¿ƒè€ƒç‚¹ï¼š

1. **åŸºç¡€è¿‡ç¡¬**ï¼šOSã€ç½‘ç»œã€æ•°æ®åº“åŽŸç†é—®å¾—å¾ˆç»†ï¼ˆå¦‚ Rehash ç»†èŠ‚ï¼‰ã€‚
2. **ä¸è€ƒåé—¨**ï¼šé™¤äº† Java é¢˜éœ€è¦è½¬æ¢æ€è·¯ï¼Œå…¶ä»–éƒ½æ˜¯é€šç”¨è®¡ç®—æœºåŸºç¡€ã€‚
3. **æ‰‹æ’•çœ‹é‡é€»è¾‘**ï¼šé“¾è¡¨ç¿»è½¬æ˜¯ç»å…¸ï¼Œå»ºè®®ç†Ÿç»ƒèƒŒè¯µ `K ä¸ªä¸€ç»„ç¿»è½¬` çš„æ¨¡æ¿ã€‚
